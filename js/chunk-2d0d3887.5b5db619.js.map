{"version":3,"sources":["webpack:///./src/views/Purchase.vue?642d","webpack:///src/views/Purchase.vue","webpack:///./src/views/Purchase.vue?6699","webpack:///./src/views/Purchase.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","items","scopedSlots","_u","key","fn","ref","item","_v","_s","name","price","children","length","on","$event","handleInsert","_e","staticClass","_l","id","staticRenderFns","data","methods","resetNewItem","newItem","parentId","listToTree","list","forEach","element","map","index","roots","watch","showCreateDialog","getCatalogList_2","component","VBtn","VCard","VListItem","VListItemContent","VList","VListItemTitle","VTreeview"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,aAAa,CAACE,MAAM,CAAC,MAAQ,GAAG,MAAQN,EAAIO,OAAOC,YAAYR,EAAIS,GAAG,CAAC,CAACC,IAAI,QAAQC,GAAG,SAASC,GAC7M,IAAIC,EAAOD,EAAIC,KACf,MAAO,CAACT,EAAG,OAAO,CAACJ,EAAIc,GAAGd,EAAIe,GAAGF,EAAKG,MAAMhB,EAAIe,GAAG,YAAYf,EAAIe,GAAGF,EAAKI,aAAa,CAACP,IAAI,SAASC,GAAG,SAASC,GAClH,IAAIC,EAAOD,EAAIC,KACf,MAAO,CAA0B,GAAxBA,EAAKK,SAASC,OAAaf,EAAG,QAAQ,CAACE,MAAM,CAAC,MAAQ,OAAO,IAAM,GAAG,KAAO,GAAG,MAAQ,GAAG,MAAQ,IAAIc,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOrB,EAAIsB,aAAaT,MAAS,CAACb,EAAIc,GAAG,SAASd,EAAIuB,YAAYnB,EAAG,SAAS,CAACoB,YAAY,UAAUlB,MAAM,CAAC,YAAY,MAAM,KAAO,KAAKN,EAAIyB,GAAIzB,EAAU,QAAE,SAASa,GAAM,OAAOT,EAAG,cAAc,CAACM,IAAIG,EAAKa,IAAI,CAACtB,EAAG,sBAAsB,CAACA,EAAG,oBAAoB,CAACJ,EAAIc,GAAGd,EAAIe,GAAGF,EAAKG,MAAMhB,EAAIe,GAAG,OAAOf,EAAIe,GAAGF,EAAKI,WAAW,IAAI,MAAK,IAAI,IAC1dU,EAAkB,G,iEC2BtB,GACEC,KAAM,WAAR,OACA,SACA,0BACA,oBACA,SACA,KACA,QACA,QACA,WACA,eAEA,SACA,YAEEC,QAAS,CACPC,aADJ,WAEM7B,KAAK8B,QAAU,CACbL,GAAI,EACJV,KAAM,GACNC,MAAO,EACPe,SAAU,EACVd,SAAU,OAGd,eAVJ,WAUA,wKACA,qCACA,gCAFA,8CAKI,iBAfJ,WAeA,wKACA,qCACA,mCAFA,8CAKI,cApBJ,WAoBA,wKACA,gDACA,WACA,uBACA,aACA,KACA,oBANA,8CASII,aA7BJ,SA6BA,wBACIW,WA9BJ,SA8BA,GACM,IAAN,KACA,KAQM,OAPAC,EAAKC,SAAQ,SAAnB,KACQC,EAAQlB,SAAW,GACnBmB,EAAID,EAAQV,IAAMY,EACO,IAArBF,EAAQJ,SACpB,kCACA,aAEaO,IAGX,QA1DF,WA0DA,wKACA,mBADA,8CAGEC,MAAO,CACLC,iBADJ,WAEUxC,KAAKwC,iBAAkBxC,KAAKyC,mBACtC,yBChGkV,I,6FCO9UC,EAAY,eACd,EACA5C,EACA4B,GACA,EACA,KACA,KACA,MAIa,aAAAgB,EAAiB,QAUhC,IAAkBA,EAAW,CAACC,OAAA,KAAKC,QAAA,KAAMC,YAAA,KAAUC,iBAAAC,EAAA,KAAiBC,eAAAD,EAAA,KAAeE,YAAA","file":"js/chunk-2d0d3887.5b5db619.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-treeview',{attrs:{\"dense\":\"\",\"items\":_vm.items},scopedSlots:_vm._u([{key:\"label\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('span',[_vm._v(_vm._s(item.name)+_vm._s(\" | Цена:\")+_vm._s(item.price))])]}},{key:\"append\",fn:function(ref){\nvar item = ref.item;\nreturn [(item.children.length == 0)?_c('v-btn',{attrs:{\"color\":\"pink\",\"fab\":\"\",\"dark\":\"\",\"small\":\"\",\"right\":\"\"},on:{\"click\":function($event){return _vm.handleInsert(item)}}},[_vm._v(\" + \")]):_vm._e()]}}])}),_c('v-card',{staticClass:\"mx-auto\",attrs:{\"max-width\":\"400\",\"tile\":\"\"}},_vm._l((_vm.basket),function(item){return _c('v-list-item',{key:item.id},[_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(_vm._s(item.name)+_vm._s(\" | \")+_vm._s(item.price))])],1)],1)}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <v-treeview dense :items=\"items\">\r\n      <template v-slot:label=\"{ item }\">\r\n        <span>{{ item.name }}{{ \" |  Цена:\" }}{{ item.price }}</span>\r\n      </template>\r\n      <template v-slot:append=\"{ item }\">\r\n        <v-btn\r\n          v-if=\"item.children.length == 0\"\r\n          color=\"pink\"\r\n          fab\r\n          dark\r\n          small\r\n          right\r\n          @click=\"handleInsert(item)\"\r\n        >\r\n          +\r\n        </v-btn>\r\n      </template>\r\n    </v-treeview>\r\n    <v-card class=\"mx-auto\" max-width=\"400\" tile>\r\n      <v-list-item v-for=\"item in basket\" :key=\"item.id\">\r\n        <v-list-item-content>\r\n          <v-list-item-title>{{item.name}}{{\" | \"}}{{item.price}}</v-list-item-title>\r\n        </v-list-item-content>\r\n      </v-list-item>\r\n    </v-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nexport default {\r\n  data: () => ({\r\n    items: [],\r\n    listOfParentCategories: [],\r\n    showCreateDialog: false,\r\n    newItem: {\r\n      id: 0,\r\n      name: \"\",\r\n      price: 0,\r\n      parentId: 0,\r\n      children: null,\r\n    },\r\n    alert: false,\r\n    basket:[],\r\n  }),\r\n  methods: {\r\n    resetNewItem() {\r\n      this.newItem = {\r\n        id: 0,\r\n        name: \"\",\r\n        price: 0,\r\n        parentId: 0,\r\n        children: null,\r\n      };\r\n    },\r\n    async getCatalogList() {\r\n      await axios.get(`catalog`).then((resp) => {\r\n        this.items = this.listToTree(resp.data);\r\n      });\r\n    },\r\n    async getCatalogList_2() {\r\n      await axios.get(`catalog`).then((resp) => {\r\n        this.listOfParentCategories = resp.data;\r\n      });\r\n    },\r\n    async createNewItem() {\r\n      await axios.post(`catalog`, this.newItem).then((resp) => {\r\n        this.alert = true;\r\n        setTimeout(() => {\r\n          this.alert = false;\r\n        }, 2000);\r\n        this.resetNewItem();\r\n      });\r\n    },\r\n    handleInsert(item) {this.basket.push(item)},\r\n    listToTree(list) {\r\n      let map = {},\r\n      roots = []\r\n      list.forEach((element, index) => {\r\n        element.children = []\r\n        map[element.id] = index;\r\n        if (element.parentId !== 0) \r\n        list[map[element.parentId]].children.push(element);\r\n        else roots.push(element);\r\n      });\r\n      return roots;\r\n    },\r\n  },\r\n  async created() {\r\n    await this.getCatalogList();\r\n  },\r\n  watch: {\r\n    showCreateDialog() {\r\n      if (this.showCreateDialog) this.getCatalogList_2();\r\n      else this.getCatalogList();\r\n    },\r\n  },\r\n};\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Purchase.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Purchase.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Purchase.vue?vue&type=template&id=79da9688&\"\nimport script from \"./Purchase.vue?vue&type=script&lang=js&\"\nexport * from \"./Purchase.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VTreeview } from 'vuetify/lib/components/VTreeview';\ninstallComponents(component, {VBtn,VCard,VListItem,VListItemContent,VListItemTitle,VTreeview})\n"],"sourceRoot":""}